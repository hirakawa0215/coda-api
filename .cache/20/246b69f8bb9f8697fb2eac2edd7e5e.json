{"id":"qdzL","dependencies":[{"name":"/Users/googlemac/Code/js/coda-js/.babelrc","includedInParent":true,"mtime":1550030162924},{"name":"/Users/googlemac/Code/js/coda-js/package.json","includedInParent":true,"mtime":1550512459259},{"name":"./utilities","loc":{"line":2,"column":27},"parent":"/Users/googlemac/Code/js/coda-js/src/models/Row.js","resolved":"/Users/googlemac/Code/js/coda-js/src/models/utilities.js"}],"generated":{"js":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.default=void 0;var e=r(require(\"@babel/runtime-corejs2/core-js/object/keys\")),t=r(require(\"@babel/runtime-corejs2/core-js/object/assign\")),s=require(\"./utilities\");function r(e){return e&&e.__esModule?e:{default:e}}class u{constructor(e,s){this.API=e,(0,t.default)(this,s)}listValues(){const t=[];return(0,e.default)(this.values).forEach(e=>{t.push({column:e,value:this.values[e]})}),t}async update(e){const[t]=(0,s.formatRows)([e]),r={row:t},{status:u}=await this.API.request(`/docs/${this.docId}/tables/${this.tableId}/rows/${this.id}`,r,\"PUT\");return 202===u}async delete(){const{status:e}=await this.API.request(`/docs/${this.docId}/tables/${this.tableId}/rows/${this.id}`,{},\"DELETE\");return 202===e}}var a=u;exports.default=a;","map":{"mappings":[{"source":"models/Row.js","name":"Row","original":{"line":41,"column":15},"generated":{"line":1,"column":0}},{"source":"models/Row.js","name":"Row","original":{"line":41,"column":15},"generated":{"line":1,"column":13}},{"source":"models/Row.js","name":"Row","original":{"line":41,"column":15},"generated":{"line":1,"column":20}},{"source":"models/Row.js","name":"Row","original":{"line":41,"column":15},"generated":{"line":1,"column":35}},{"source":"models/Row.js","name":"Row","original":{"line":41,"column":15},"generated":{"line":1,"column":43}},{"source":"models/Row.js","name":"Row","original":{"line":41,"column":15},"generated":{"line":1,"column":56}},{"source":"models/Row.js","name":"Row","original":{"line":41,"column":15},"generated":{"line":1,"column":57}},{"source":"models/Row.js","name":"Row","original":{"line":41,"column":15},"generated":{"line":1,"column":64}},{"source":"models/Row.js","name":"Row","original":{"line":41,"column":15},"generated":{"line":1,"column":68}},{"source":"models/Row.js","name":"Row","original":{"line":41,"column":15},"generated":{"line":1,"column":76}},{"source":"models/Row.js","name":"Row","original":{"line":41,"column":15},"generated":{"line":1,"column":89}},{"source":"models/Row.js","name":"Row","original":{"line":41,"column":15},"generated":{"line":1,"column":91}},{"source":"models/Row.js","name":"Row","original":{"line":41,"column":15},"generated":{"line":1,"column":95}},{"source":"models/Row.js","name":"Row","original":{"line":41,"column":15},"generated":{"line":1,"column":97}},{"source":"models/Row.js","name":"Row","original":{"line":41,"column":15},"generated":{"line":1,"column":99}},{"source":"models/Row.js","name":"Row","original":{"line":41,"column":15},"generated":{"line":1,"column":107}},{"source":"models/Row.js","name":"Row","original":{"line":41,"column":15},"generated":{"line":1,"column":154}},{"source":"models/Row.js","name":"Row","original":{"line":41,"column":15},"generated":{"line":1,"column":156}},{"source":"models/Row.js","name":"Row","original":{"line":41,"column":15},"generated":{"line":1,"column":158}},{"source":"models/Row.js","name":"Row","original":{"line":41,"column":15},"generated":{"line":1,"column":166}},{"source":"models/Row.js","original":{"line":2,"column":0},"generated":{"line":1,"column":215}},{"source":"models/Row.js","original":{"line":2,"column":0},"generated":{"line":1,"column":217}},{"source":"models/Row.js","original":{"line":2,"column":0},"generated":{"line":1,"column":225}},{"source":"models/Row.js","name":"Row","original":{"line":41,"column":15},"generated":{"line":1,"column":240}},{"source":"models/Row.js","name":"Row","original":{"line":41,"column":15},"generated":{"line":1,"column":249}},{"source":"models/Row.js","name":"Row","original":{"line":41,"column":15},"generated":{"line":1,"column":251}},{"source":"models/Row.js","name":"Row","original":{"line":41,"column":15},"generated":{"line":1,"column":254}},{"source":"models/Row.js","name":"Row","original":{"line":41,"column":15},"generated":{"line":1,"column":261}},{"source":"models/Row.js","name":"Row","original":{"line":41,"column":15},"generated":{"line":1,"column":264}},{"source":"models/Row.js","name":"Row","original":{"line":41,"column":15},"generated":{"line":1,"column":266}},{"source":"models/Row.js","name":"Row","original":{"line":41,"column":15},"generated":{"line":1,"column":277}},{"source":"models/Row.js","name":"Row","original":{"line":41,"column":15},"generated":{"line":1,"column":279}},{"source":"models/Row.js","name":"Row","original":{"line":41,"column":15},"generated":{"line":1,"column":280}},{"source":"models/Row.js","name":"Row","original":{"line":41,"column":15},"generated":{"line":1,"column":288}},{"source":"models/Row.js","original":{"line":4,"column":0},"generated":{"line":1,"column":291}},{"source":"models/Row.js","name":"Row","original":{"line":4,"column":6},"generated":{"line":1,"column":297}},{"source":"models/Row.js","name":"constructor","original":{"line":5,"column":4},"generated":{"line":1,"column":299}},{"source":"models/Row.js","name":"API","original":{"line":5,"column":16},"generated":{"line":1,"column":311}},{"source":"models/Row.js","name":"data","original":{"line":5,"column":21},"generated":{"line":1,"column":313}},{"source":"models/Row.js","name":"API","original":{"line":6,"column":13},"generated":{"line":1,"column":316}},{"source":"models/Row.js","name":"API","original":{"line":6,"column":13},"generated":{"line":1,"column":321}},{"source":"models/Row.js","name":"API","original":{"line":6,"column":19},"generated":{"line":1,"column":325}},{"source":"models/Row.js","original":{"line":8,"column":22},"generated":{"line":1,"column":328}},{"source":"models/Row.js","original":{"line":8,"column":22},"generated":{"line":1,"column":330}},{"source":"models/Row.js","original":{"line":8,"column":22},"generated":{"line":1,"column":332}},{"source":"models/Row.js","original":{"line":8,"column":22},"generated":{"line":1,"column":341}},{"source":"models/Row.js","name":"data","original":{"line":8,"column":28},"generated":{"line":1,"column":346}},{"source":"models/Row.js","name":"listValues","original":{"line":12,"column":4},"generated":{"line":1,"column":349}},{"source":"models/Row.js","name":"values","original":{"line":13,"column":14},"generated":{"line":1,"column":362}},{"source":"models/Row.js","name":"values","original":{"line":13,"column":14},"generated":{"line":1,"column":368}},{"source":"models/Row.js","original":{"line":13,"column":23},"generated":{"line":1,"column":370}},{"source":"models/Row.js","name":"values","original":{"line":19,"column":15},"generated":{"line":1,"column":373}},{"source":"models/Row.js","original":{"line":15,"column":20},"generated":{"line":1,"column":380}},{"source":"models/Row.js","original":{"line":15,"column":20},"generated":{"line":1,"column":382}},{"source":"models/Row.js","original":{"line":15,"column":20},"generated":{"line":1,"column":384}},{"source":"models/Row.js","original":{"line":15,"column":20},"generated":{"line":1,"column":393}},{"source":"models/Row.js","name":"values","original":{"line":15,"column":25},"generated":{"line":1,"column":398}},{"source":"models/Row.js","name":"forEach","original":{"line":15,"column":33},"generated":{"line":1,"column":406}},{"source":"models/Row.js","name":"column","original":{"line":15,"column":41},"generated":{"line":1,"column":414}},{"source":"models/Row.js","name":"values","original":{"line":16,"column":12},"generated":{"line":1,"column":418}},{"source":"models/Row.js","name":"push","original":{"line":16,"column":19},"generated":{"line":1,"column":420}},{"source":"models/Row.js","original":{"line":16,"column":24},"generated":{"line":1,"column":425}},{"source":"models/Row.js","name":"column","original":{"line":16,"column":26},"generated":{"line":1,"column":426}},{"source":"models/Row.js","name":"column","original":{"line":16,"column":26},"generated":{"line":1,"column":433}},{"source":"models/Row.js","name":"value","original":{"line":16,"column":34},"generated":{"line":1,"column":435}},{"source":"models/Row.js","original":{"line":16,"column":41},"generated":{"line":1,"column":441}},{"source":"models/Row.js","name":"values","original":{"line":16,"column":46},"generated":{"line":1,"column":446}},{"source":"models/Row.js","name":"column","original":{"line":16,"column":53},"generated":{"line":1,"column":453}},{"source":"models/Row.js","name":"values","original":{"line":19,"column":15},"generated":{"line":1,"column":460}},{"source":"models/Row.js","name":"update","original":{"line":22,"column":10},"generated":{"line":1,"column":462}},{"source":"models/Row.js","name":"row","original":{"line":22,"column":17},"generated":{"line":1,"column":475}},{"source":"models/Row.js","original":{"line":26,"column":14},"generated":{"line":1,"column":478}},{"source":"models/Row.js","name":"formattedRow","original":{"line":26,"column":15},"generated":{"line":1,"column":484}},{"source":"models/Row.js","original":{"line":26,"column":31},"generated":{"line":1,"column":488}},{"source":"models/Row.js","original":{"line":26,"column":42},"generated":{"line":1,"column":490}},{"source":"models/Row.js","original":{"line":26,"column":42},"generated":{"line":1,"column":492}},{"source":"models/Row.js","original":{"line":26,"column":42},"generated":{"line":1,"column":504}},{"source":"models/Row.js","name":"row","original":{"line":26,"column":43},"generated":{"line":1,"column":505}},{"source":"models/Row.js","name":"params","original":{"line":27,"column":14},"generated":{"line":1,"column":509}},{"source":"models/Row.js","original":{"line":27,"column":23},"generated":{"line":1,"column":511}},{"source":"models/Row.js","name":"row","original":{"line":27,"column":25},"generated":{"line":1,"column":512}},{"source":"models/Row.js","name":"formattedRow","original":{"line":27,"column":30},"generated":{"line":1,"column":516}},{"source":"models/Row.js","original":{"line":29,"column":14},"generated":{"line":1,"column":520}},{"source":"models/Row.js","name":"status","original":{"line":29,"column":16},"generated":{"line":1,"column":527}},{"source":"models/Row.js","original":{"line":29,"column":33},"generated":{"line":1,"column":536}},{"source":"models/Row.js","name":"API","original":{"line":29,"column":38},"generated":{"line":1,"column":541}},{"source":"models/Row.js","name":"request","original":{"line":29,"column":42},"generated":{"line":1,"column":545}},{"source":"models/Row.js","original":{"line":29,"column":59},"generated":{"line":1,"column":562}},{"source":"models/Row.js","name":"docId","original":{"line":29,"column":64},"generated":{"line":1,"column":567}},{"source":"models/Row.js","original":{"line":29,"column":80},"generated":{"line":1,"column":583}},{"source":"models/Row.js","name":"tableId","original":{"line":29,"column":85},"generated":{"line":1,"column":588}},{"source":"models/Row.js","original":{"line":29,"column":101},"generated":{"line":1,"column":604}},{"source":"models/Row.js","name":"id","original":{"line":29,"column":106},"generated":{"line":1,"column":609}},{"source":"models/Row.js","name":"params","original":{"line":29,"column":112},"generated":{"line":1,"column":614}},{"source":"models/Row.js","original":{"line":29,"column":120},"generated":{"line":1,"column":616}},{"source":"models/Row.js","name":"status","original":{"line":30,"column":15},"generated":{"line":1,"column":623}},{"source":"models/Row.js","original":{"line":30,"column":26},"generated":{"line":1,"column":630}},{"source":"models/Row.js","name":"status","original":{"line":30,"column":15},"generated":{"line":1,"column":636}},{"source":"models/Row.js","name":"delete","original":{"line":33,"column":10},"generated":{"line":1,"column":638}},{"source":"models/Row.js","original":{"line":36,"column":14},"generated":{"line":1,"column":653}},{"source":"models/Row.js","original":{"line":36,"column":14},"generated":{"line":1,"column":659}},{"source":"models/Row.js","name":"status","original":{"line":36,"column":16},"generated":{"line":1,"column":666}},{"source":"models/Row.js","original":{"line":36,"column":33},"generated":{"line":1,"column":675}},{"source":"models/Row.js","name":"API","original":{"line":36,"column":38},"generated":{"line":1,"column":680}},{"source":"models/Row.js","name":"request","original":{"line":36,"column":42},"generated":{"line":1,"column":684}},{"source":"models/Row.js","original":{"line":36,"column":59},"generated":{"line":1,"column":701}},{"source":"models/Row.js","name":"docId","original":{"line":36,"column":64},"generated":{"line":1,"column":706}},{"source":"models/Row.js","original":{"line":36,"column":80},"generated":{"line":1,"column":722}},{"source":"models/Row.js","name":"tableId","original":{"line":36,"column":85},"generated":{"line":1,"column":727}},{"source":"models/Row.js","original":{"line":36,"column":101},"generated":{"line":1,"column":743}},{"source":"models/Row.js","name":"id","original":{"line":36,"column":106},"generated":{"line":1,"column":748}},{"source":"models/Row.js","original":{"line":36,"column":112},"generated":{"line":1,"column":753}},{"source":"models/Row.js","original":{"line":36,"column":116},"generated":{"line":1,"column":756}},{"source":"models/Row.js","name":"status","original":{"line":37,"column":15},"generated":{"line":1,"column":766}},{"source":"models/Row.js","original":{"line":37,"column":26},"generated":{"line":1,"column":773}},{"source":"models/Row.js","name":"status","original":{"line":37,"column":15},"generated":{"line":1,"column":779}},{"source":"models/Row.js","name":"Row","original":{"line":41,"column":15},"generated":{"line":1,"column":782}},{"source":"models/Row.js","name":"Row","original":{"line":41,"column":15},"generated":{"line":1,"column":786}},{"source":"models/Row.js","name":"Row","original":{"line":41,"column":15},"generated":{"line":1,"column":788}},{"source":"models/Row.js","name":"Row","original":{"line":41,"column":15},"generated":{"line":1,"column":790}},{"source":"models/Row.js","name":"Row","original":{"line":41,"column":15},"generated":{"line":1,"column":798}},{"source":"models/Row.js","name":"Row","original":{"line":41,"column":15},"generated":{"line":1,"column":806}}],"sources":{"models/Row.js":"\nimport { formatRows } from './utilities';\n\nclass Row {\n    constructor(API, data) {\n        this.API = API;\n        // set properties (docId, tableId, id, type, href, name, index, browserLink, createdAt, updatedAt, values (object))\n        Object.assign(this, data);\n    }\n\n    // format values as key/value pair array instead of as object\n    listValues() {\n        const values = [];\n\n        Object.keys(this.values).forEach(column => {\n            values.push({ column, value: this.values[column] });\n        });\n\n        return values;\n    }\n\n    async update(row) {\n        // params: row (array - required)\n        // https://coda.io/developers/apis/v1beta1#operation/updateRow\n\n        const [formattedRow] = formatRows([row]);\n        const params = { row: formattedRow };\n\n        const { status } = await this.API.request(`/docs/${this.docId}/tables/${this.tableId}/rows/${this.id}`, params, 'PUT');\n        return status === 202;\n    }\n\n    async delete() {\n        // https://coda.io/developers/apis/v1beta1#operation/deleteRow\n\n        const { status } = await this.API.request(`/docs/${this.docId}/tables/${this.tableId}/rows/${this.id}`, {}, 'DELETE');\n        return status === 202;\n    }\n}\n\nexport default Row;\n"},"lineCount":null}},"hash":"42a8487ed825fa434660367e5e18232b","cacheData":{"env":{}}}